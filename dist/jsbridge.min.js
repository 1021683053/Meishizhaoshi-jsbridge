!function(){function e(e){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var n=document.createElement("iframe");n.style.display="none",n.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(n),setTimeout(function(){document.documentElement.removeChild(n)},0)}function n(e){return function(n){return{}.toString.call(n)=="[object "+e+"]"}}function t(e,n){var t=[];n||console.error("Native api is empty!");var i={name:n,param:{},callback:function(){}},e=u(e)?e:[].slice.call(e);return!e[1]&&d(e[0])&&(i.callback=e[0]),!s(e[0])||(i.param=e[0]),!d(e[1])||(i.callback=e[1]),t.push(i.name),t.push(i.param),t.push(i.callback),t}function i(e){var n=window.location.origin;window.location.href;return/^http[s]?\:\/\//.test(e)?e:/^\//.test(e)?n+e:void 0}var a=navigator.userAgent,o=function(e,n){function t(e,n){var t=n.replace(/<\%flg\%>/,e);return new RegExp(t)}if(this==window)return new o(e,n);var i=null,a=t(e,"(<%flg%>)/([M|C])_(\\d+(?:.\\d+(?:.\\d+)?)?)");i=n.match(a),this.version=(i?i[3]:null)||0,this.category=(i?i[2]:null)||0,this.name=(i?i[1]:null)||"Browser"},r=new o("Meishizhaoshi",a),l={},c=e;l.native=window.WebViewJavascriptBridge||null,l.init=function(){console.log(arguments);var e=[].slice.call(arguments)[0];return l.native?void(e&&e()):void c(function(n){l.native=n,e&&e()})},l.on=function(){var e=[].slice.call(arguments);l.native.registerHandler.apply(c,e)},l.emit=function(){var e=[].slice.call(arguments);l.native.callHandler.apply(c,e)},l.client=r,l.isAndroid=a.indexOf("Android")>-1||a.indexOf("Adr")>-1,l.isiOS=!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),l.base="http://10.0.0.1:8080",l.init();var p=function(){};p.prototype=l;var s=n("Object"),u=(n("String"),Array.isArray||n("Array")),d=n("Function");n("Undefined");p.prototype.share=function(){var e=t(arguments,"showShareView");this.emit.apply(l,e)},p.prototype.cityview=function(){var e=t(arguments,"openCityChooseView");this.emit.apply(l,e)},p.prototype.city=function(){var e=t(arguments,"getCityNameAndId");this.emit.apply(l,e)},p.prototype.reload=function(){var e=t(arguments,"refreshWebView");this.emit.apply(l,e)},p.prototype.token=function(){var e=t(arguments,"getUserToken");this.emit.apply(l,e)},p.prototype.inloader=function(){var e=t(arguments,"showLoading");this.emit.apply(l,e)},p.prototype.unloader=function(){var e=t(arguments,"hideLoading");this.emit.apply(l,e)},p.prototype.link=function(){var e=[].slice.call(arguments),n=e[0]||"",a=[],o={};o.url=i(n),a.push(o);var r=t(a,"openURL");this.emit.apply(l,r)},"function"==typeof define?define(function(){return new p}):"undefined"!=typeof exports?module.exports=null:this.M=new p}();