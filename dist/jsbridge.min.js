!function(){function e(e){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(t),setTimeout(function(){document.documentElement.removeChild(t)},0)}function t(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function n(e,t){var n=[];t||console.error("Native api is empty!");var i={name:t,param:{},callback:function(){}},e=m(e)?e:[].slice.call(e);return!e[1]&&v(e[0])&&(i.callback=e[0]),!d(e[0])||(i.param=e[0]),!v(e[1])||(i.callback=e[1]),n.push(i.name),n.push(i.param),n.push(i.callback),n}function i(e){var t=window.location.origin;window.location.href;return/^http[s]?\:\/\//.test(e)?e:/^\//.test(e)?t+e:void 0}function r(){var e=o(4),t=(new Date).getTime();return e+"_"+t}function o(e){for(var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n="",i=0;i<e;i++){var r=Math.ceil(25*Math.random());n+=t[r]}return n}function a(e){var t=e;return[].slice.call(arguments,1).forEach(function(e){var n=Object.getOwnPropertyNames(e);n.forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i)})}),t}var c=navigator.userAgent,l=function(e,t){function n(e,t){var n=t.replace(/<\%flg\%>/,e);return new RegExp(n)}if(this==window)return new l(e,t);var i=null,r=n(e,"(<%flg%>)/([M|C])_(\\d+(?:.\\d+(?:.\\d+)?)?)");i=t.match(r),this.version=(i?i[3]:null)||0,this.category=(i?i[2]:null)||0,this.name=(i?i[1]:null)||"Browser"},s=new l("Meishizhaoshi",c),p={},f=e;p.native=window.WebViewJavascriptBridge||null,p.init=function(){console.log(arguments);var e=[].slice.call(arguments)[0];return p.native?void(e&&e()):void f(function(t){p.native=t,e&&e()})},p.on=function(){var e=[].slice.call(arguments);p.native.registerHandler.apply(f,e)},p.emit=function(){var e=[].slice.call(arguments);p.native.callHandler.apply(f,e)},p.client=s,p.isAndroid=c.indexOf("Android")>-1||c.indexOf("Adr")>-1,p.isiOS=!!c.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),p.base="http://10.0.0.1:8080",p.init();var u=function(){};u.prototype=p;var d=t("Object"),h=t("String"),m=Array.isArray||t("Array"),v=t("Function");t("Undefined");u.prototype.share=function(){var e=n(arguments,"showShareView");this.emit.apply(p,e)},u.prototype.cityview=function(){var e=n(arguments,"openCityChooseView");this.emit.apply(p,e)},u.prototype.city=function(){var e=n(arguments,"getCityNameAndId");this.emit.apply(p,e)},u.prototype.reload=function(){var e=n(arguments,"refreshWebView");this.emit.apply(p,e)},u.prototype.token=function(){var e=n(arguments,"getUserToken");this.emit.apply(p,e)},u.prototype.inloader=function(){var e=n(arguments,"showLoading");this.emit.apply(p,e)},u.prototype.unloader=function(){var e=n(arguments,"hideLoading");this.emit.apply(p,e)},u.prototype.link=function(){var e=[].slice.call(arguments),t=e[0]||"",r=[],o={};o.url=i(t),r.push(o);var a=n(r,"openURL");this.emit.apply(p,a)},u.prototype.oslink=function(){var e=[].slice.call(arguments),t=e[0]||"",r=[],o={};o.URL=i(t),r.push(o);var a=n(r,"openSysURL");this.emit.apply(p,a)},u.prototype.alert=function(){var e,t=[].slice.call(arguments),i=[],o={type:"alert",confirmTitle:"确定",confirmMethodName:"",confirmMethodIdentifier:"",title:"消息",message:"点击确定"},c=r(),l={confirmTitle:"确定",title:"消息",message:"提示确定"};d(t[0])&&(l=a(l,t[0])),h(t[0])&&(l.message=t[0]),h(t[1])&&(l.title=t[1]),v(t[t.length-1])&&(e=t[t.length-1]),o=a(o,l),o.confirmMethodName=c,o.confirmMethodIdentifier=c,this.on(c,function(t){e(t.identifier)});var i=[];i.push(o);var s=n(i,"showAlert");this.emit.apply(p,s)},u.prototype.confirm=function(){var e=[].slice.call(arguments),t=[],i={type:"confirm",confirmTitle:"确定",confirmMethodName:"",confirmMethodIdentifier:"",cancelMethodName:"",cancelMethodIdentifier:"",cancelTitle:"取消",title:"消息",message:"点击确定"},o=r(),c=r(),l=function(){},s=function(){},f={confirmTitle:"确定",cancelTitle:"取消",message:"点击确定",title:"消息"};d(e[0])&&(f=a(f,e[0])),h(e[0])&&(f.message=e[0]),h(e[1])&&(f.title=e[1]),v(e[e.length-1])&&v(e[e.length-2])&&(l=e[e.length-1],s=e[e.length-2]),v(e[e.length-1])&&!v(e[e.length-2])&&(s=e[e.length-1]),i=a(i,f),i.confirmMethodName=c,i.confirmMethodIdentifier=c,i.cancelMethodName=o,i.cancelMethodIdentifier=o,this.on(c,function(e){s(e.identifier)}),this.on(o,function(e){l(e.identifier)});var t=[];t.push(i);var u=n(t,"showAlert");this.emit.apply(p,u)},"function"==typeof define?define(function(){return new u}):"undefined"!=typeof exports?module.exports=null:this.M=new u}();