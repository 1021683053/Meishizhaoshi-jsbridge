<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
        <title>jsbrige测试</title>
        <script src="http://apps.bdimg.com/libs/fastclick/1.0.0/fastclick.min.js" charset="utf-8"></script>
        <!-- <script src="../lib/amazeui-touch/dist/amazeui.touch.css" charset="utf-8"></script> -->
        <link rel="stylesheet" href="../lib/aui/css/aui.2.0.css" charset="utf-8">
        <script type="text/javascript">
            window.addEventListener('load', function() {
                FastClick.attach(document.body);
            }, false);
        </script>
        <script src="../dist/jsbridge.js" charset="utf-8"></script>
        <style media="screen">
            button{ display: block; width: 100%; text-align: center; padding: 10px 0;}
            .header {
                padding: 2.5rem 0.5rem 2rem 0.5rem;
            }
            .header p{ font-size: 12px; color: #FFF; line-height: 1em;}

        </style>
    </head>
    <body>
        <header class="aui-bar aui-bar-nav aui-text-left header" id="header">
            <h1>
                <a class="aui-btn aui-pull-right" tapmode onclick="openClub()">
                    <i class="aui-iconfont aui-icon-question"></i>
                </a>
                JSBridge 1.0
                <p></p>
            </h1>
        </header>
        <section class="aui-content-padded">
            <div class="aui-row-padded">
                <div class="aui-col-xs-6">
                    <button class="showShareView">showShareView</button>
                </div>
                <div class="aui-col-xs-6">
                    <button class="openCityChooseView">openCityChooseView</button>
                </div>
                <div class="aui-col-xs-6">
                    <button class="getCityNameAndId">getCityNameAndId</button>
                </div>
                <div class="aui-col-xs-6">
                    <button class="refreshWebView">refreshWebView</button>
                </div>
                <div class="aui-col-xs-6">
                    <button class="getUserToken">getUserToken</button>
                </div>

                <div class="aui-col-xs-6">
                    <button class="showLoading">showLoading</button>
                </div>

                <div class="aui-col-xs-6">
                    <button class="openURL">TODO: openURL:baidu</button>
                </div>
                <div class="aui-col-xs-6">
                    <button class="showAlert">showAlert</button>
                </div>
            </div>
        </section>

    </body>
</html>
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js" charset="utf-8"></script>

<script type="text/javascript">
    $(".header p").text(JSON.stringify( navigator.userAgent ));

    $('.showShareView').on("click", function(){
        bridge.emit('showShareView', {text: "Liweifeng"}, function(response){
            alert( JSON.stringify(response) );
        });

    });
    $('.openCityChooseView').on("click", function(){
        bridge.emit('openCityChooseView', {}, function(response){
            alert( JSON.stringify( response) );
        });
    });

    $('.getCityNameAndId').on("click", function(){
        bridge.emit('getCityNameAndId', {}, function(response){
            alert( JSON.stringify( response) );
        });
    });

    $('.refreshWebView').on("click", function(){
        bridge.emit('refreshWebView', {}, function(response){
            alert( JSON.stringify( response) );
        });
    });
    $('.getUserToken').on("click", function(){
        bridge.emit('getUserToken', {}, function(response){
            alert( JSON.stringify( response) );
        });
    });

    $('.showLoading').on("click", function(){
        bridge.emit('showLoading');
        setTimeout(function () {
            bridge.emit('hideLoading', {}, function(){});
        }, 3000);
    });

    $('.openURL').on("click", function(){
        bridge.emit('openURL', {url:"http://baidu.com"}, function( response ){
            alert( JSON.stringify( response) );
        });
    });

    $('.showAlert').on("click", function(){
        var alert_j = {
          type:'alert',
          confirmTitle:'Yep!',
          confirmMethodName:'alertClick',
          confirmMethodIdentifier:'alert1',
          title:'i\'m alert',
          message:'Hello, this is Demo.'
        }
        var param = {
            type: 'alert',
            confirmMethodName: "confirmMethodName",
            confirmMethodIdentifier: "dea",
            confirmTitle: "确定",
            cancelMethodName: function(){
                alert(false);
            },
            cancelTitle: "取消",
            title: "Liweifeng:",
            message: "基于 flexbox，6 列流式"
        }
        bridge.emit('showAlert', alert_j, function( response ){
            alert( JSON.stringify( response) );
        });
    });

    bridge.on('alertClick', function(response){
        alert( JSON.stringify( response) );
    });

    bridge.on('alertClick', function(response){
        alert( JSON.stringify( response) );
    });
    bridge.on('alertClick', function(response){
        alert( JSON.stringify( response) );
    });

</script>
